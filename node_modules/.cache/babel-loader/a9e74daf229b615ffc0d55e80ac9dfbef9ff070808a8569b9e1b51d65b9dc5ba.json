{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryuna\\\\sallim\\\\src\\\\pages\\\\ChatRoom\\\\ChatRoom.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Container, Header, Title, MessageList, MessageItem, MessageBubble, MessageTime, InputSection, MessageInput, SendButton } from \"./styled\";\n\n// 더미 데이터\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dummyPost = {\n  id: 1,\n  title: \"Vintage Camera Listing\"\n};\nconst dummyMessages = [{\n  id: 1,\n  sender: \"me\",\n  content: \"안녕하세요! 아직 구매 가능할까요?\",\n  time: \"14:30\"\n}, {\n  id: 2,\n  sender: \"other\",\n  content: \"네, 가능합니다!\",\n  time: \"14:31\"\n}, {\n  id: 3,\n  sender: \"me\",\n  content: \"내일 오후 2시에 볼 수 있을까요?\",\n  time: \"14:32\"\n}, {\n  id: 4,\n  sender: \"other\",\n  content: \"네, 좋아요!\",\n  time: \"14:33\"\n}];\nconst ChatRoom = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    chatId\n  } = useParams();\n  const [messages, setMessages] = useState(dummyMessages);\n  const [input, setInput] = useState(\"\");\n  const messageEndRef = useRef(null);\n  useEffect(() => {\n    var _messageEndRef$curren;\n    (_messageEndRef$curren = messageEndRef.current) === null || _messageEndRef$curren === void 0 ? void 0 : _messageEndRef$curren.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const handleSend = () => {\n    if (input.trim() === \"\") return;\n    setMessages([...messages, {\n      id: Date.now(),\n      sender: \"me\",\n      content: input,\n      time: new Date().toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      })\n    }]);\n    setInput(\"\");\n  };\n  const handleInputKeyDown = e => {\n    if (e.key === \"Enter\") handleSend();\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: /*#__PURE__*/_jsxDEV(Title, {\n        onClick: () => navigate(`/post/detail/${dummyPost.id}`),\n        children: dummyPost.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MessageList, {\n      children: [messages.map(msg => /*#__PURE__*/_jsxDEV(MessageItem, {\n        isMe: msg.sender === \"me\",\n        children: [/*#__PURE__*/_jsxDEV(MessageBubble, {\n          isMe: msg.sender === \"me\",\n          children: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MessageTime, {\n          isMe: msg.sender === \"me\",\n          children: msg.time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, msg.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messageEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputSection, {\n      children: [/*#__PURE__*/_jsxDEV(MessageInput, {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: handleInputKeyDown,\n        placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SendButton, {\n        onClick: handleSend,\n        children: \"\\uC804\\uC1A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatRoom, \"WLzPRlOwb9xe3scbbsWK4VoR3tw=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = ChatRoom;\nexport default ChatRoom;\nvar _c;\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useNavigate","useParams","Container","Header","Title","MessageList","MessageItem","MessageBubble","MessageTime","InputSection","MessageInput","SendButton","jsxDEV","_jsxDEV","dummyPost","id","title","dummyMessages","sender","content","time","ChatRoom","_s","navigate","chatId","messages","setMessages","input","setInput","messageEndRef","_messageEndRef$curren","current","scrollIntoView","behavior","handleSend","trim","Date","now","toLocaleTimeString","hour","minute","handleInputKeyDown","e","key","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","isMe","ref","value","onChange","target","onKeyDown","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/ryuna/sallim/src/pages/ChatRoom/ChatRoom.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Header,\r\n  Title,\r\n  MessageList,\r\n  MessageItem,\r\n  MessageBubble,\r\n  MessageTime,\r\n  InputSection,\r\n  MessageInput,\r\n  SendButton,\r\n} from \"./styled\";\r\n\r\n// 더미 데이터\r\nconst dummyPost = {\r\n  id: 1,\r\n  title: \"Vintage Camera Listing\",\r\n};\r\n\r\nconst dummyMessages = [\r\n  {\r\n    id: 1,\r\n    sender: \"me\",\r\n    content: \"안녕하세요! 아직 구매 가능할까요?\",\r\n    time: \"14:30\",\r\n  },\r\n  {\r\n    id: 2,\r\n    sender: \"other\",\r\n    content: \"네, 가능합니다!\",\r\n    time: \"14:31\",\r\n  },\r\n  {\r\n    id: 3,\r\n    sender: \"me\",\r\n    content: \"내일 오후 2시에 볼 수 있을까요?\",\r\n    time: \"14:32\",\r\n  },\r\n  {\r\n    id: 4,\r\n    sender: \"other\",\r\n    content: \"네, 좋아요!\",\r\n    time: \"14:33\",\r\n  },\r\n];\r\n\r\nconst ChatRoom = () => {\r\n  const navigate = useNavigate();\r\n  const { chatId } = useParams();\r\n  const [messages, setMessages] = useState(dummyMessages);\r\n  const [input, setInput] = useState(\"\");\r\n  const messageEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    messageEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  const handleSend = () => {\r\n    if (input.trim() === \"\") return;\r\n    setMessages([\r\n      ...messages,\r\n      {\r\n        id: Date.now(),\r\n        sender: \"me\",\r\n        content: input,\r\n        time: new Date().toLocaleTimeString([], {\r\n          hour: \"2-digit\",\r\n          minute: \"2-digit\",\r\n        }),\r\n      },\r\n    ]);\r\n    setInput(\"\");\r\n  };\r\n\r\n  const handleInputKeyDown = (e) => {\r\n    if (e.key === \"Enter\") handleSend();\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <Title onClick={() => navigate(`/post/detail/${dummyPost.id}`)}>\r\n          {dummyPost.title}\r\n        </Title>\r\n      </Header>\r\n      <MessageList>\r\n        {messages.map((msg) => (\r\n          <MessageItem key={msg.id} isMe={msg.sender === \"me\"}>\r\n            <MessageBubble isMe={msg.sender === \"me\"}>\r\n              {msg.content}\r\n            </MessageBubble>\r\n            <MessageTime isMe={msg.sender === \"me\"}>{msg.time}</MessageTime>\r\n          </MessageItem>\r\n        ))}\r\n        <div ref={messageEndRef} />\r\n      </MessageList>\r\n      <InputSection>\r\n        <MessageInput\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={handleInputKeyDown}\r\n          placeholder=\"메시지를 입력하세요\"\r\n        />\r\n        <SendButton onClick={handleSend}>전송</SendButton>\r\n      </InputSection>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ChatRoom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}